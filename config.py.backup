import os

# Configuration Meilisearch
MEILISEARCH_URL = os.getenv('MEILISEARCH_URL', 'http://localhost:7700')
MEILISEARCH_KEY = os.getenv('MEILISEARCH_KEY', '')

# Configuration serveur
SERVER_HOST = '0.0.0.0'
SERVER_PORT = 8989

# Configuration contact
PHONE_NUMBER = '0665137710'  # Modifiez ce num√©ro selon vos besoins
PHONE_NUMBER_RAW = '0665137710'  # Version sans espaces pour les liens tel:

# Configuration des textes personnalisables
# Fil d'Ariane - Texte de remplacement pour "Accueil"
BREADCRUMB_HOME_TEXT = "Accueil"  # Modifiez pour personnaliser le texte du fil d'ariane

# Section "Pourquoi nous choisir"
WHY_CHOOSE_TITLE = "Pourquoi choisir nos professionnels ?"
WHY_CHOOSE_BLOCKS = [
    {
        'icon': 'fa-certificate',
        'title': 'Qualifi√©s & Certifi√©s',
        'description': 'Artisans exp√©riment√©s avec garanties professionnelles',
        'color': 'green'
    },
    {
        'icon': 'fa-bolt',
        'title': 'Intervention Rapide',
        'description': 'Devis gratuits et interventions dans les meilleurs d√©lais',
        'color': 'blue'
    },
    {
        'icon': 'fa-map-marker-alt',
        'title': 'Proximit√©',
        'description': 'Professionnels locaux dans tous les d√©partements',
        'color': 'purple'
    }
]

# Zone d'intervention (s'adapte automatiquement √† vos d√©partements)
ZONE_TITLE = "Notre Zone d'Intervention"
ZONE_DESCRIPTION = f"Nous couvrons l'ensemble de la r√©gion {AUTO_REGION_NAME}"  # S'adapte automatiquement

# ============================================================================
# ZONES GEOGRAPHIQUES ET TYPES DE COMMUNES
# ============================================================================
# Option 1 : AUTOMATIQUE (recommand√©)
# Commentez les listes ci-dessous et d√©commentez USE_AUTO_ZONES = True
# Les zones s'adapteront automatiquement √† vos d√©partements !
#
# Option 2 : MANUEL (personnalisable)
# Gardez USE_AUTO_ZONES = False et personnalisez les listes ci-dessous
# ============================================================================

USE_AUTO_ZONES = True  # True = automatique, False = manuel

# Zones g√©ographiques d√©taill√©es (utilis√©es si USE_AUTO_ZONES = False)
GEOGRAPHIC_ZONES_MANUAL = [
    {
        'title': 'Charente & Charente-Maritime',
        'icon': 'üåä',
        'description': 'Angoul√™me, La Rochelle, Saintes, Cognac et leurs environs'
    },
    {
        'title': 'Deux-S√®vres & Vienne',
        'icon': 'üèûÔ∏è',
        'description': 'Niort, Poitiers et toutes les communes environnantes'
    }
]

# Types de communes couvertes (utilis√©s si USE_AUTO_ZONES = False)
COVERAGE_TYPES_MANUAL = [
    {
        'title': 'M√©tropoles',
        'icon': 'üèôÔ∏è',
        'description': 'Poitiers, La Rochelle, Angoul√™me'
    },
    {
        'title': 'Villes moyennes',
        'icon': 'üèòÔ∏è',
        'description': 'Niort, Saintes, Ch√¢tellerault, Cognac'
    },
    {
        'title': 'Zones rurales',
        'icon': 'üåæ',
        'description': 'Villages et communes de campagne'
    },
    {
        'title': 'Littoral Atlantique',
        'icon': 'üèñÔ∏è',
        'description': 'Stations baln√©aires et communes c√¥ti√®res'
    }
]

# Page d'accueil - Hero Section (s'adapte automatiquement √† vos d√©partements et m√©tiers)
# Laissez ces variables telles quelles, elles s'adapteront automatiquement !
# Vous pouvez aussi les personnaliser si vous le souhaitez
HERO_TITLE = f"Annuaire Professionnel {AUTO_REGION_NAME}"  # S'adapte automatiquement
HERO_SUBTITLE = "Trouvez les meilleurs professionnels pr√®s de chez vous"
HERO_CTA_TEXT = "Appelez-nous : {phone_number}"
HERO_CTA_SUBTEXT = "Devis gratuit - R√©ponse sous 24h"

# Page Cat√©gorie - Sections personnalisables
CATEGORY_WHY_CHOOSE_TITLE = "Pourquoi choisir nos professionnels ?"
CATEGORY_FAQ_TITLE = "Questions Fr√©quentes"
CATEGORY_ZONE_TITLE = "Notre Zone d'Intervention"

# Questions fr√©quentes par d√©faut (utilis√©es si pas de questions sp√©cifiques pour un m√©tier)
DEFAULT_FAQ = [
    {
        'question': "Quels sont vos tarifs ?",
        'answer': "Nos tarifs varient selon la nature des travaux. Nous proposons des devis gratuits et personnalis√©s. Contactez-nous pour obtenir une estimation pr√©cise."
    },
    {
        'question': "Intervenez-vous en urgence ?",
        'answer': "Oui, nos professionnels sont disponibles pour des interventions urgentes. Contactez-nous au {phone_number} pour une intervention rapide."
    },
    {
        'question': "√ätes-vous assur√©s ?",
        'answer': "Tous nos professionnels disposent des assurances obligatoires (responsabilit√© civile et d√©cennale) pour garantir la qualit√© de leurs interventions."
    },
    {
        'question': "Dans quels d√©lais intervenez-vous ?",
        'answer': "Nous nous engageons √† vous r√©pondre sous 24h et √† programmer une intervention dans les meilleurs d√©lais selon vos disponibilit√©s."
    }
]

# Page Ville - Sections personnalisables
CITY_EXPERTISE_TITLE_TEMPLATE = "Notre expertise {profession_lower}"
CITY_EXPERTISE_DESCRIPTION_TEMPLATE = "Les sp√©cialistes de {city} assurent un service complet et personnalis√© pour vos projets."
CITY_SERVICES_TITLE_TEMPLATE = "Nos services {profession_lower} √† {city}"

# Cat√©gories m√©tiers
# Ajoutez ou modifiez les m√©tiers ci-dessous selon vos besoins
# Format: 'slug-url': 'Nom affich√©'
CATEGORIES = {
    'graphiste': 'Graphiste',
    'directeur artistique': 'Directeur artistique',
    'web designer': 'Web designer',
    'UI/UX designer': 'UI/UX designer',
    'brand designer': 'Brand designer',
    'designer packaging': 'Designer packaging',
    'motion designer': 'Motion designer',
    'illustrateur': "Illustrateur"
}

# Fonction helper pour obtenir les noms de r√©gions depuis les d√©partements
def _get_regions_from_departments():
    """G√©n√®re automatiquement les noms de r√©gions depuis DEPARTMENTS"""
    dept_to_region = {
        # Nouvelle-Aquitaine
        '16': 'Nouvelle-Aquitaine', '17': 'Nouvelle-Aquitaine', '19': 'Nouvelle-Aquitaine',
        '23': 'Nouvelle-Aquitaine', '24': 'Nouvelle-Aquitaine', '33': 'Nouvelle-Aquitaine',
        '40': 'Nouvelle-Aquitaine', '47': 'Nouvelle-Aquitaine', '64': 'Nouvelle-Aquitaine',
        '79': 'Nouvelle-Aquitaine', '86': 'Nouvelle-Aquitaine', '87': 'Nouvelle-Aquitaine',
        # Auvergne-Rh√¥ne-Alpes
        '01': 'Auvergne-Rh√¥ne-Alpes', '03': 'Auvergne-Rh√¥ne-Alpes', '07': 'Auvergne-Rh√¥ne-Alpes',
        '15': 'Auvergne-Rh√¥ne-Alpes', '26': 'Auvergne-Rh√¥ne-Alpes', '38': 'Auvergne-Rh√¥ne-Alpes',
        '42': 'Auvergne-Rh√¥ne-Alpes', '43': 'Auvergne-Rh√¥ne-Alpes', '63': 'Auvergne-Rh√¥ne-Alpes',
        '69': 'Auvergne-Rh√¥ne-Alpes', '73': 'Auvergne-Rh√¥ne-Alpes', '74': 'Auvergne-Rh√¥ne-Alpes',
        # Provence-Alpes-C√¥te d'Azur
        '04': 'Provence-Alpes-C√¥te d\'Azur', '05': 'Provence-Alpes-C√¥te d\'Azur',
        '06': 'Provence-Alpes-C√¥te d\'Azur', '13': 'Provence-Alpes-C√¥te d\'Azur',
        '83': 'Provence-Alpes-C√¥te d\'Azur', '84': 'Provence-Alpes-C√¥te d\'Azur',
        # Occitanie
        '09': 'Occitanie', '11': 'Occitanie', '12': 'Occitanie', '30': 'Occitanie',
        '31': 'Occitanie', '32': 'Occitanie', '34': 'Occitanie', '46': 'Occitanie',
        '48': 'Occitanie', '65': 'Occitanie', '66': 'Occitanie', '81': 'Occitanie', '82': 'Occitanie',
        # √éle-de-France
        '75': '√éle-de-France', '77': '√éle-de-France', '78': '√éle-de-France',
        '91': '√éle-de-France', '92': '√éle-de-France', '93': '√éle-de-France',
        '94': '√éle-de-France', '95': '√éle-de-France',
        # Grand Est
        '08': 'Grand Est', '10': 'Grand Est', '51': 'Grand Est', '52': 'Grand Est',
        '54': 'Grand Est', '55': 'Grand Est', '57': 'Grand Est', '67': 'Grand Est',
        '68': 'Grand Est', '88': 'Grand Est',
        # Hauts-de-France
        '02': 'Hauts-de-France', '59': 'Hauts-de-France', '60': 'Hauts-de-France',
        '62': 'Hauts-de-France', '80': 'Hauts-de-France',
        # Normandie
        '14': 'Normandie', '27': 'Normandie', '50': 'Normandie', '61': 'Normandie', '76': 'Normandie',
        # Bretagne
        '22': 'Bretagne', '29': 'Bretagne', '35': 'Bretagne', '56': 'Bretagne',
        # Pays de la Loire
        '44': 'Pays de la Loire', '49': 'Pays de la Loire', '53': 'Pays de la Loire',
        '72': 'Pays de la Loire', '85': 'Pays de la Loire',
        # Centre-Val de Loire
        '18': 'Centre-Val de Loire', '28': 'Centre-Val de Loire', '36': 'Centre-Val de Loire',
        '37': 'Centre-Val de Loire', '41': 'Centre-Val de Loire', '45': 'Centre-Val de Loire',
        # Bourgogne-Franche-Comt√©
        '21': 'Bourgogne-Franche-Comt√©', '25': 'Bourgogne-Franche-Comt√©',
        '39': 'Bourgogne-Franche-Comt√©', '58': 'Bourgogne-Franche-Comt√©',
        '70': 'Bourgogne-Franche-Comt√©', '71': 'Bourgogne-Franche-Comt√©',
        '89': 'Bourgogne-Franche-Comt√©', '90': 'Bourgogne-Franche-Comt√©',
        # Corse
        '2A': 'Corse', '2B': 'Corse',
    }

    regions = set()
    for dept_code in DEPARTMENTS.keys():
        if dept_code in dept_to_region:
            regions.add(dept_to_region[dept_code])

    if len(regions) == 1:
        return list(regions)[0]
    elif len(regions) > 1:
        return ' et '.join(list(regions))
    else:
        return "France"

# G√©n√©ration automatique du nom de r√©gion
AUTO_REGION_NAME = _get_regions_from_departments()

# Fonction pour g√©n√©rer automatiquement les zones g√©ographiques
def _get_auto_geographic_zones():
    """G√©n√®re automatiquement les zones g√©ographiques depuis DEPARTMENTS"""
    if not DEPARTMENTS:
        return []

    dept_list = list(DEPARTMENTS.items())
    zones = []

    # Grouper par 2-3 d√©partements
    for i in range(0, len(dept_list), 2):
        group = dept_list[i:i+2]
        if group:
            dept_names = [name for code, name in group]
            title = ' & '.join(dept_names)
            # Prendre quelques villes principales (vous pouvez personnaliser)
            description = f"Tous les professionnels de {dept_names[0]}"
            if len(dept_names) > 1:
                description += f" et {dept_names[1]}"

            zones.append({
                'title': title,
                'icon': 'üìç',
                'description': description
            })

    return zones if zones else [{
        'title': 'France enti√®re',
        'icon': 'üó∫Ô∏è',
        'description': 'Tous les d√©partements fran√ßais'
    }]

# Fonction pour g√©n√©rer automatiquement les types de communes
def _get_auto_coverage_types():
    """G√©n√®re automatiquement les types de communes"""
    types = [
        {
            'title': 'Grandes villes',
            'icon': 'üèôÔ∏è',
            'description': 'M√©tropoles et grandes agglom√©rations'
        },
        {
            'title': 'Villes moyennes',
            'icon': 'üèòÔ∏è',
            'description': 'Pr√©fectures et sous-pr√©fectures'
        },
        {
            'title': 'Zones rurales',
            'icon': 'üåæ',
            'description': 'Villages et petites communes'
        }
    ]
    return types

# Chemins
JSON_FILE = 'communes-france-avec-polygon-2025 (1).json'
TEMPLATES_DIR = 'templates'
STATIC_DIR = 'static'
OUTPUT_DIR = 'generated'

# D√©partements fran√ßais
# Tous les d√©partements de France m√©tropolitaine et DOM
# Commentez les d√©partements que vous ne souhaitez pas inclure
DEPARTMENTS = {
    # Nouvelle-Aquitaine
    '16': 'Charente',
    '17': 'Charente-Maritime',
    '79': 'Deux-S√®vres',
    '86': 'Vienne',
}

# ============================================================================
# VARIABLES FINALES (NE PAS MODIFIER)
# ============================================================================
# Ces variables utilisent la logique automatique ou manuelle selon USE_AUTO_ZONES
GEOGRAPHIC_ZONES = _get_auto_geographic_zones() if USE_AUTO_ZONES else GEOGRAPHIC_ZONES_MANUAL
COVERAGE_TYPES = _get_auto_coverage_types() if USE_AUTO_ZONES else COVERAGE_TYPES_MANUAL